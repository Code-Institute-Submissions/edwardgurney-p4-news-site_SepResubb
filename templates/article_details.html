{% extends 'base.html' %}
{% block title %}{{ post.slug }}{% endblock %}

    {% block content %}

<h1>{{ post.title }}</h1>
<h3> By: {{ post.author }}</h3>
<h4> Last Updated: {{ post.updated_date }}</h4>
<h4> Sub Head: {{ post.sub_headline }}</h4><br/>
<hr>

{{ post.content|safe }}
<br>
<form method="post" action="{% url 'upvote' post.slug %}">
    {% csrf_token %}
    
    <button class="btn btn-primary btn-sm far fa-thumbs-up btn btn-success" type="submit", name="upvote", value="{{ upvote.slug }}"> Upvote</button>
</form>
<p><em><small>{{ post.upvotes.count }}</small></em></p>
<br>
<form method="post" action="{% url 'downvote' post.slug %}">
    {% csrf_token %}
    <i class="far fa-thumbs-down fa-2x"></i>
    <button class="btn btn-primary btn-sm" type="submit", name="downvote", value="{{ downvote.slug }}">Downvote</button>
</form>

<p><em><small>{{ post.downvotes.count }}</small></em></p>
<br>

<div class="col-md-8">
    <form method="post" action="{% url 'submit-comment' post.slug %}">{% csrf_token %}  
    <div class="form-group"></div>
    <textarea class="form-control" name = 'body' id="id_body"></textarea>
</div>

    <button type="submit" class="btn btn-success">Add Comment</button>
</form>
<br/><br/>
<a href="{% url 'home' %}">Back</a>


<h2>Comments...</h2>
    <dl>
        {% for comment in post.comments.all %}
        <dl><strong>{{ comment.user_name }}</strong> | <small>{{ comment.created_on}}</small></dl> 
        <dd>{{ comment.body }}</dd>
        <hr>
    </dl>
        
        {% endfor %}
</div>
    {% endblock %}